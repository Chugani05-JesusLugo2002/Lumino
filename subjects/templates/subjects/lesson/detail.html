{% extends "base.html" %}

{% load markdownify %}
{% load modal from shared_extras %}  

{% block title %}Lumino | {{ lesson }}{% endblock %}

{% block main %}

<div class="my-3 d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center">
        <a href="{{ lesson.subject.get_absolute_url }}" class="h2 mx-3" data-bs-toggle="tooltip" data-bs-title="Back to {{ lesson.subject.code }} lessons"><i class="bi bi-arrow-left-circle-fill"></i></a> 
        <h1>{{ lesson }}</h1>
    </div>
    {% if not user.profile.is_student %}
      <div>
        <a href="{% url "subjects:edit-lesson" subject.code lesson.pk %}" class="btn btn-primary">Edit</a>
        {% modal 'Delete' 'Delete lesson' css_class="btn btn-outline-danger" %}
      </div>
    {% endif %}
</div>
<section id="lesson-content">
    {% if lesson.content|length > 0 %}
        {{ lesson.content|markdownify }}
    {% else %}
        <div class="alert alert-warning">
            <i class="bi bi-exclamation-diamond"></i> This lesson doesn't have any content yet.
        </div>
    {% endif %}
</section>

{% endblock %}